<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Port PR Chart - Frontend</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>📊 Port Pull Request Analytics</h1>
            <p>Visualize your Port data with interactive charts</p>
        </header>

        <!-- Chart Controls -->
        <section class="controls-section">
            <h2>📈 Chart Controls</h2>
            <div class="controls-grid">
                <div class="control-group">
                    <label for="chartType">Chart Type:</label>
                    <select id="chartType" onchange="updateChart()">
                        <option value="bar">Bar Chart</option>
                        <option value="line">Line Chart</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="metric">Metric:</label>
                    <select id="metric" onchange="updateChart()">
                        <option value="hours">Total Hours</option>
                        <option value="count">Count</option>
                        <option value="avgHours">Average Hours</option>
                    </select>
                </div>
                <div class="control-group">
                    <label for="timeRange">Time Range:</label>
                    <select id="timeRange" onchange="updateChart()">
                        <option value="7">Last 7 days</option>
                        <option value="30">Last 30 days</option>
                        <option value="90">Last 90 days</option>
                        <option value="Jan">Jan</option>
                        <option value="Feb">Feb</option>
                        <option value="Mar">Mar</option>
                        <option value="Apr">Apr</option>
                        <option value="May">May</option>
                        <option value="Jun">Jun</option>
                        <option value="Jul">Jul</option>
                        <option value="Aug">Aug</option>
                        <option value="Sep">Sep</option>
                        <option value="Oct">Oct</option>
                        <option value="Nov">Nov</option>
                        <option value="Dec">Dec</option>
                    </select>
                </div>
            </div>
        </section>

        <!-- Filter Controls -->
        <section class="filter-section">
            <h2>🔍 Filter Controls</h2>
            <div class="filter-controls">
                <div class="filter-group">
                    <label for="jsonProperty">JSON Property:</label>
                    <select id="jsonProperty" onchange="updatePropertyValues()">
                        <option value="default">Default Metrics</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="propertyValue">Property Value:</label>
                    <select id="propertyValue" onchange="updateSelectionDisplay()">
                        <option value="all">All Values</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="selectionDisplay">Current Selection:</label>
                    <input type="text" id="selectionDisplay" placeholder="No filter applied">
                </div>
                <div class="filter-buttons">
                    <button onclick="applyFilter()">Apply Filter</button>
                    <button onclick="clearFilter()">Clear Filter</button>
                </div>
            </div>
        </section>

        <!-- Chart Display -->
        <section class="chart-section">
            <h2>📊 Chart</h2>
            <div class="chart-container">
                <canvas id="chartCanvas"></canvas>
            </div>
        </section>

        <!-- Status & Debug -->
        <section class="status-section">
            <h2>📋 Status & Debug</h2>
            <div id="statusDisplay" class="status-display">
                <p>Ready to load data...</p>
            </div>
            <div id="errorDisplay" class="error-display" style="display: none;"></div>
        </section>
    </div>

    <script src="js/api.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
